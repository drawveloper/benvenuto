(function() {
  var assert, cc;

  cc = require('../lib/coffeecup');

  assert = require('assert');

  describe('Escaping', function() {
    return describe("h1 h(\"<script>alert('\"owned\" by c&a &copy;')</script>)", function() {
      return it("should render <h1>&lt;script&gt;alert('&quot;owned&quot; by c&amp;a &amp;copy;')&lt;/script&gt;</h1>", function() {
        var t;
        t = function() {
          return h1(h("<script>alert('\"owned\" by c&a &copy;')</script>"));
        };
        return assert.equal(cc.render(t), "<h1>&lt;script&gt;alert('&quot;owned&quot; by c&amp;a &amp;copy;')&lt;/script&gt;</h1>");
      });
    });
  });

  describe('AutoEscaping', function() {
    return describe("h1 <script>alert('\"owned\" by c&a &copy;')</script>", function() {
      return it("should render <h1>&lt;script&gt;alert('&quot;owned&quot; by c&amp;a &amp;copy;')&lt;/script&gt;</h1>", function() {
        var t;
        t = function() {
          return h1("<script>alert('\"owned\" by c&a &copy;')</script>");
        };
        return assert.equal(cc.render(t, {
          autoescape: true
        }), "<h1>&lt;script&gt;alert('&quot;owned&quot; by c&amp;a &amp;copy;')&lt;/script&gt;</h1>");
      });
    });
  });

  describe('Escaping optimized', function() {
    return describe("h1 h(\"<script>alert('\"owned\" by c&a &copy;')</script>)", function() {
      return it("should render <h1>&lt;script&gt;alert('&quot;owned&quot; by c&amp;a &amp;copy;')&lt;/script&gt;</h1>", function() {
        var t;
        t = function() {
          return h1(h("<script>alert('\"owned\" by c&a &copy;')</script>"));
        };
        return assert.equal(cc.render(t, {
          optimized: true,
          cache: true
        }), "<h1>&lt;script&gt;alert('&quot;owned&quot; by c&amp;a &amp;copy;')&lt;/script&gt;</h1>");
      });
    });
  });

  describe('AutoEscaping optimized', function() {
    return describe("h1 <script>alert('\"owned\" by c&a &copy;')</script>", function() {
      return it("should render <h1>&lt;script&gt;alert('&quot;owned&quot; by c&amp;a &amp;copy;')&lt;/script&gt;</h1>", function() {
        var t;
        t = function() {
          return h1("<script>alert('\"owned\" by c&a &copy;')</script>");
        };
        return assert.equal(cc.render(t, {
          autoescape: true,
          optimized: true,
          cache: true
        }), "<h1>&lt;script&gt;alert('&quot;owned&quot; by c&amp;a &amp;copy;')&lt;/script&gt;</h1>");
      });
    });
  });

}).call(this);
