(function() {
  var assert, cc, path;

  cc = require('../lib/coffeecup');

  assert = require('assert');

  path = require('path');

  describe('__express', function() {
    describe('render', function() {
      var template;
      template = path.join(__dirname, 'templates', 'renderError.coffee');
      it("should callback with any render errors", function(done) {
        return cc.__express(template, {}, function(err, result) {
          assert.exist(err);
          return done();
        });
      });
      return it('should callback with render errors from a cached template', function(done) {
        return cc.__express(template, {
          cache: true
        }, function(err, result) {
          assert.exist(err);
          return cc.__express(template, {
            cache: true
          }, function(err, result) {
            assert.exist(err);
            return done();
          });
        });
      });
    });
    return describe('compile', function() {
      var template;
      template = path.join(__dirname, 'templates', 'compileError.coffee');
      return it('should callback with any compile errors', function(done) {
        return cc.__express(template, {}, function(err, result) {
          assert.exist(err);
          return done();
        });
      });
    });
  });

}).call(this);
